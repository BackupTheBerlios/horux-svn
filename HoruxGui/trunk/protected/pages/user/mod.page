<com:TContent ID="Main">

<script type="text/javascript"> 
// <![CDATA[

function genPinCode(pin_length)
{
	document.getElementById( '<%= $this->pin_code->getClientID() %>' ).value = Math.floor(Math.random() * Math.pow( 10 , pin_length ) );
}

-->
</script>

<div id="content-box">
    <div class="border">
        <div class="padding">
            <div id="toolbar-box">
                
                <div class="t">
                    <div class="t">
                        <div class="t"></div>
                    </div>
                </div>
                <div class="m" >
                    <div class="toolbar" id="toolbar">
                        <table class="toolbar">
                            <tr>
                                <td class="button" id="toolbar-apply">
                                    <com:TLinkButton CssClass="toolbar" OnClick="onApply" ValidationGroup="Group1">
                                      <span class="icon-32-apply" title="<%[Apply]%>"></span><%[Apply]%>
                                    </com:TLinkButton> 
                                </td>


                                <td class="button" id="toolbar-save">
                                    <com:TLinkButton CssClass="toolbar" OnClick="onSave" ValidationGroup="Group1">
                                      <span class="icon-32-save" title="<%[Save]%>"></span><%[Save]%>
                                    </com:TLinkButton> 
                                </td>

                                <td class="button" id="toolbar-cancel">
                                    <com:TLinkButton CssClass="toolbar" OnClick="onCancel">
                                      <span class="icon-32-cancel" title="<%[Cancel]%>"></span><%[Cancel]%>
                                    </com:TLinkButton> 
                                </td>

                                <td class="button" id="toolbar-help">
                                    <a href="./proxy/index.php?page=<%= $this->getApplication()->getService()->getRequestedPagePath() %>&lang=<%= $this->getApplication()->getGlobalState('lang') %>" title="<%[Help]%>" onClick="Modalbox.show(this.href, {title: this.title, width: 600, height: 600}); return false;" class="toolbar" >
                                        <span class="icon-32-help" title="<%[Help]%>"></span><%[Help]%>
                                    </a>
                                </td>


                            </tr>
                        </table>
                    </div><!-- end class toolbar -->

                    <div class="header icon-48-user"><%[Modify a user]%></div>
                    <div class="clr"></div>
                </div><!-- end class m -->


                <div class="b">
                    <div class="b">
                        <div class="b"></div>
                    </div>
                </div>
            </div><!-- end class toolbar-box -->

            <com:TLiteral ID="okMsg" Text="" />
            <com:TLiteral ID="koMsg" Text="" />

            <div id="element-box">
    
                <div class="t">
                    <div class="t">
                        <div class="t"></div>
                    </div>
                </div>
                <div class="m">
				  <com:THiddenField ID="id" value="" />
				  <com:THiddenField ID="pictureName" value="" />
                  <fieldset class="adminform">
	             <legend><%[Global]%></legend>
                      <table class="admintable" cellspacing="1">
                        <tbody>

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Select the sex for this user]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)">* <%[Sex]%></span>
                            </td>
                            <td>
							<com:TRadioButton
							    ID="sexF"
							    GroupName="RadioGroup"
							    Text="F"
							    Checked="1"
							    />
							<com:TRadioButton
							    ID="sexM"
							    GroupName="RadioGroup"
							    Text="M"
							    />
                            </td> 
                          </tr>

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the name for this user]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)">* <%[Name]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="name"
                                Width="50" />
                              <com:TRequiredFieldValidator
								ValidationGroup="Group1" 
								ControlToValidate="name" 
								Text="<%[This field is required]%>" 
								Display="Dynamic"/>
                            </td> 
                          </tr>

                          <tr>
                            <td valign="top" class="key"><span onmouseover="Tip('<%[Enter the firstname for this user]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)">* <%[Firstname]%></span></td>
                            <td>
                              <com:TTextBox CssClass="text_area" ID="firstname" Width="50" Text=""/>
                              <com:TRequiredFieldValidator
								ValidationGroup="Group1" 
								ControlToValidate="firstname" 
								Text="<%[This field is required]%>" 
								Display="Dynamic"/>
                            </td> 
                          </tr>

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Select the language for this user]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Language]%></span>
                            </td>
                            <td>
								<com:TDropDownList ID="language">
									<com:TListItem Text="<%[---- Select a language ----]%>" Value="none" />
									<com:TListItem Text="<%[English]%>" Value="en" />
									<com:TListItem Text="<%[French]%>" Value="fr" />
									<com:TListItem Text="<%[German]%>" Value="ge" />
									<com:TListItem Text="<%[Italian]%>" Value="it" />
									<com:TListItem Text="<%[Spanish]%>" Value="sp" />
								</com:TDropDownList>
                            </td> 
                          </tr>
                          <tr>
                            <td valign="top" class="key"><span onmouseover="Tip('<%[Add the picture of the user]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Picture]%></span></td>
                            <td>
								<com:TFileUpload 
									ID="picture_upload" 
									OnFileUpload="fileUploaded" 
									Attributes.maxlength="100000"
									Attributes.accept = "image/*"
									/>
									
                            </td> 
                          </tr>
			
                          <tr>
                            <td valign="top" class="key"></td>
                            <td>
								<com:TActiveImage ID="picture"/>
                            </td> 
                          </tr>
						
                          <tr>
                            <td valign="top" class="key"><span onmouseover="Tip('<%[Check it if you want to<br/>delete an existing picture]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Delete]%></span></td>
                            <td>
								<com:TCheckBox ID="delPicture"/>
                            </td> 
                          </tr>

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the pin code for this user, if used]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)">* <%[PIN Code]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="pin_code"
                                Width="50" />
								<a href="#" onClick="genPinCode(4)">4</a>&nbsp;/&nbsp;
								<a href="#" onClick="genPinCode(5)">5</a>&nbsp;/&nbsp;
								<a href="#" onClick="genPinCode(6)">6</a>&nbsp;/&nbsp;
								<a href="#" onClick="genPinCode(7)">7</a>&nbsp;/&nbsp;
								<a href="#" onClick="genPinCode(8)">8</a>
								
                            </td> 
                          </tr>
						  
						  
						  </tbody>
                      </table>
                  </fieldset>

                  <fieldset class="adminform">

	             <legend><%[Personal information]%></legend>
                      <table class="admintable" cellspacing="1">
                        <tbody>

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the personal street]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Street]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="street"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the personal zip number]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[ZIP]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="zip"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the personal city]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[City]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="city"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the personal country]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Country]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="country"
                                Width="50" />
                            </td> 
                          </tr>                        


                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the personal phone number]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Phone]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="phone1"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the personal email]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Email]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="email1"
                                Width="50" />
							  <com:TEmailAddressValidator
							    ValidationGroup="Group1"
							    ControlToValidate="email1"
							    Text="<%[Invalid email address.]%>"
							    Display="Dynamic"
							    EnableClientScript="true" />                                
                                
                            </td> 
                          </tr>                        

                        </tbody>
                      </table>

                  </fieldset>

                  <fieldset class="adminform">
  	              <legend><%[Professional information]%></legend>
                      <table class="admintable" cellspacing="1">
                        <tbody>

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the firme]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Firme]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="firme"
                                Width="50" />
                            </td> 
                          </tr> 

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the department]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Department]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="department"
                                Width="50" />
                            </td> 
                          </tr> 


                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the professional street]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Street]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="street_pr"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the professional zip number]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[ZIP]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="zip_pr"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the professional city]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[City]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="city_pr"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the professional country]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Country]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="country_pr"
                                Width="50" />
                            </td> 
                          </tr>                        


                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the professional phone number]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Phone]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="phone2"
                                Width="50" />
                            </td> 
                          </tr>                        

                          <tr>
                            <td valign="top" class="key">
                              <span onmouseover="Tip('<%[Enter the professional email]%>', BALLOON, true, BALLOONIMGPATH, './js/tip_balloon', OFFSETX, -10, TEXTALIGN, 'justify', FADEIN, 600, FADEOUT, 600, PADDING, 8)"><%[Email]%></span>
                            </td>
                            <td>
                              <com:TTextBox 
                                CssClass="text_area" 
                                ID="email2"
                                Width="50" />
							  <com:TEmailAddressValidator
							    ValidationGroup="Group1"
							    ControlToValidate="email2"
							    Text="<%[Invalid email address.]%>"
							    Display="Dynamic"
							    EnableClientScript="true" />                                
                            </td> 
                          </tr>                        

                        </tbody>
                      </table>                        
                        
                        </tbody>
                      </table>

                  </fieldset>


                  <div class="clr"></div>
                </div> <!-- end class m -->
                <div class="b">
                    <div class="b">
                        <div class="b"></div>
                    </div>
                </div>
            </div> <!-- end class element-box -->
            <div class="clr"></div>
        </div> <!-- end class toolbar-box -->
        <div class="clr"></div>
    </div><!-- end class content-box -->
</div> <!-- end class content-box -->
</com:TContent>
